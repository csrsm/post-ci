<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java容器集合 | Csrsm</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/post-ci/favicon.ico">
    <meta name="description" content="This is my blog">
    <link rel="preload" href="/post-ci/assets/css/0.styles.0012e2a3.css" as="style"><link rel="preload" href="/post-ci/assets/js/app.2051f0b8.js" as="script"><link rel="preload" href="/post-ci/assets/js/7.8eaaf042.js" as="script"><link rel="preload" href="/post-ci/assets/js/22.0a18be31.js" as="script"><link rel="prefetch" href="/post-ci/assets/js/1.a566e589.js"><link rel="prefetch" href="/post-ci/assets/js/10.503da5e1.js"><link rel="prefetch" href="/post-ci/assets/js/11.9d2fdfae.js"><link rel="prefetch" href="/post-ci/assets/js/12.fcb21a1d.js"><link rel="prefetch" href="/post-ci/assets/js/13.96503fd7.js"><link rel="prefetch" href="/post-ci/assets/js/14.20d93468.js"><link rel="prefetch" href="/post-ci/assets/js/15.64bd5037.js"><link rel="prefetch" href="/post-ci/assets/js/16.b9a58e29.js"><link rel="prefetch" href="/post-ci/assets/js/17.d4868fcd.js"><link rel="prefetch" href="/post-ci/assets/js/18.e106ea76.js"><link rel="prefetch" href="/post-ci/assets/js/19.ebf1a903.js"><link rel="prefetch" href="/post-ci/assets/js/20.0e2eae33.js"><link rel="prefetch" href="/post-ci/assets/js/21.4752cac2.js"><link rel="prefetch" href="/post-ci/assets/js/23.000382ea.js"><link rel="prefetch" href="/post-ci/assets/js/24.db68ac55.js"><link rel="prefetch" href="/post-ci/assets/js/25.431855c5.js"><link rel="prefetch" href="/post-ci/assets/js/26.dd3da43c.js"><link rel="prefetch" href="/post-ci/assets/js/27.64c1a036.js"><link rel="prefetch" href="/post-ci/assets/js/28.87cb6b0a.js"><link rel="prefetch" href="/post-ci/assets/js/29.a985dc98.js"><link rel="prefetch" href="/post-ci/assets/js/3.ff189134.js"><link rel="prefetch" href="/post-ci/assets/js/30.1ebe5aff.js"><link rel="prefetch" href="/post-ci/assets/js/31.b371235e.js"><link rel="prefetch" href="/post-ci/assets/js/32.a1231124.js"><link rel="prefetch" href="/post-ci/assets/js/33.d558d933.js"><link rel="prefetch" href="/post-ci/assets/js/34.d7d644b4.js"><link rel="prefetch" href="/post-ci/assets/js/35.eb22c3ab.js"><link rel="prefetch" href="/post-ci/assets/js/36.bed5cd89.js"><link rel="prefetch" href="/post-ci/assets/js/37.f8911c28.js"><link rel="prefetch" href="/post-ci/assets/js/38.1ff48400.js"><link rel="prefetch" href="/post-ci/assets/js/39.c6f256ac.js"><link rel="prefetch" href="/post-ci/assets/js/4.326ff035.js"><link rel="prefetch" href="/post-ci/assets/js/40.55598602.js"><link rel="prefetch" href="/post-ci/assets/js/41.41fb4af9.js"><link rel="prefetch" href="/post-ci/assets/js/42.9fd7723b.js"><link rel="prefetch" href="/post-ci/assets/js/43.88e37717.js"><link rel="prefetch" href="/post-ci/assets/js/44.2a443682.js"><link rel="prefetch" href="/post-ci/assets/js/45.377399cb.js"><link rel="prefetch" href="/post-ci/assets/js/46.a5414bf6.js"><link rel="prefetch" href="/post-ci/assets/js/47.a43294de.js"><link rel="prefetch" href="/post-ci/assets/js/48.8742461a.js"><link rel="prefetch" href="/post-ci/assets/js/49.b778b074.js"><link rel="prefetch" href="/post-ci/assets/js/5.f96cd824.js"><link rel="prefetch" href="/post-ci/assets/js/50.186a336f.js"><link rel="prefetch" href="/post-ci/assets/js/6.562b2ef1.js"><link rel="prefetch" href="/post-ci/assets/js/8.40f58b51.js"><link rel="prefetch" href="/post-ci/assets/js/9.c8fcfbba.js">
    <link rel="stylesheet" href="/post-ci/assets/css/0.styles.0012e2a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(http://img.icoisini.xyz/background.jpg);" data-v-7a046aea><div data-v-e4145d0a data-v-7a046aea><nav class="navbar" data-v-e4145d0a><div class="container" data-v-e4145d0a><a href="/post-ci/" class="router-link-active" data-v-e4145d0a><span class="navbar-site-name" data-v-e4145d0a>
          Csrsm
        </span></a> <div class="navbar-toggler" data-v-e4145d0a><svg class="icon" style="font-size:1.2em;" data-v-e4145d0a data-v-e4145d0a><title data-v-e4145d0a data-v-e4145d0a>menu</title><use xlink:href="#icon-menu" data-v-e4145d0a data-v-e4145d0a></use></svg></div> <div class="navbar-links" data-v-e4145d0a><a href="/post-ci/" class="navbar-link" data-v-e4145d0a>
            首页
          </a><a href="/post-ci/posts/" class="navbar-link router-link-active" data-v-e4145d0a>
            Csrsm
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-e4145d0a></div></div> <div class="banner" data-v-98d6aa8c data-v-7a046aea data-v-7a046aea><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-7a046aea>
          Java容器集合
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-4dd605a1 data-v-4dd605a1><main class="main" data-v-4dd605a1><div class="post" data-v-4dd605a1 data-v-4dd605a1><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2022-05-02
    </span> <span class="update-date" data-v-4e23451f>
      最后修改 : 2022-12-08
    </span></section> <section class="post-links" data-v-4e23451f><a href="/post-ci/posts/2022/05/02/mysql%E4%BC%98%E5%8C%96.html" class="post-link" data-v-4e23451f>
      上一篇 : MySQL调优
    </a> <a href="/post-ci/posts/2022/05/02/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%9F%BA%E7%A1%80.html" class="post-link" data-v-4e23451f>
      下一篇 : 大数据基础
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><h1 id="java容器集合-collection"><a href="#java容器集合-collection" class="header-anchor">#</a> Java容器集合-Collection</h1> <h2 id="_1、算法与数据结构"><a href="#_1、算法与数据结构" class="header-anchor">#</a> 1、算法与数据结构</h2> <ul><li><p>算法：解决问题的流程</p></li> <li><p>数据结构：计算机存储、组织数据的方式。</p> <ul><li><p>逻辑结构：线性表（数组、链表）、图、树、栈、队列等</p></li> <li><p>物理结构：</p> <ul><li><p>紧密结构（顺序结构，元素地址紧密相邻）</p> <p>优点：</p> <ul><li>寻址快，意味着查找元素快</li></ul> <p>缺点：</p> <ul><li>删除和增加元素效率低</li></ul></li> <li><p>跳转结构（链式结构，当前元素会保存上一个、下一个元素的地址信息）</p> <p>优点：</p> <ul><li>删除和插入元素效率高</li></ul> <p>缺点：</p> <ul><li>查询元素效率低</li></ul></li></ul></li></ul></li></ul> <p>以线性表为例：</p> <ul><li>相同的数据类型</li> <li>序列（顺序性）</li> <li>有限</li></ul> <blockquote><p>线性表逻辑结构，对应真实结构如果是紧密结构，则对应的就是数组</p> <p>线性表逻辑结构，对应真实结构如果是跳转结构，则对应的就是链表</p></blockquote> <h2 id="_2、list集合"><a href="#_2、list集合" class="header-anchor">#</a> 2、List集合</h2> <h3 id="_1-arraylist"><a href="#_1-arraylist" class="header-anchor">#</a> 1.ArrayList</h3> <p>底层Object数组，int类型属性数组长度，<strong>线程不安全</strong>，效率高</p> <ul><li>jdk1.7：底层是Object类型的数组，在调用构造器的时候，数组长度初始化10，扩容时为原数组的1.5倍</li> <li>jdk1.8：底层是Objcet类型的数组，在调用构造器的时候，底层数组为空，在调用add方法后，才能重新赋值新数组，数组长度为10，节省了内存，扩容时为原数组的1.5倍</li></ul> <h3 id="_2-vector"><a href="#_2-vector" class="header-anchor">#</a> 2.Vector</h3> <p>底层Object数组，int类型属性数组长度，在调用构造器的时候，数组长度初始化10，扩容时为原数组的2倍，add方法使用synchronized关键字修饰，<strong>线程安全</strong>，效率低。</p> <h5 id="stack"><a href="#stack" class="header-anchor">#</a> Stack</h5> <p>是Vector的子类，底层是Object数组。</p> <p>栈：后进先出（LIFO - last in first out）</p> <h3 id="_3、泛型"><a href="#_3、泛型" class="header-anchor">#</a> 3、泛型</h3> <ul><li>泛型类可以定义多个参数类型</li> <li>泛型类的构造器中不能指定泛型</li> <li>不同的泛型的引用类型不能相互赋值</li> <li>泛型如果不指定，则会被擦除，泛型对应的类型是Object类型</li> <li>泛型类中的静态方法，不能使用类泛型</li> <li>不能直接使用泛型数组的创建</li></ul> <h3 id="_4-linkedlist"><a href="#_4-linkedlist" class="header-anchor">#</a> 4.LinkedList</h3> <p>jdk1.7和1.8实现是一样的，底层是双向链表</p> <h4 id="_1-transient关键字"><a href="#_1-transient关键字" class="header-anchor">#</a> 1.transient关键字</h4> <p>transient特点：</p> <ul><li>一旦变量被transient修饰，变量将不再是对象持久化的一部分，该变量内容在序列化后无法被访问。</li> <li>transient关键字只能修饰变量，而不能修饰方法和类。注意，本地变量是不能被transient关键字修饰的。变量如果是用户自定义类变量，则该类需要实现Serializable接口。</li> <li>一个静态变量不管是否被transient修饰，均不能被序列化(如果反序列化后类中static变量还有值，则值为当前JVM中对应static变量的值)。序列化保存的是对象状态，静态变量保存的是类状态，因此序列化并不保存静态变量。</li></ul> <p>transient使用场景：</p> <ul><li>类中的字段值可以根据其它字段推导出来，如一个长方形类有三个属性长度、宽度、面积，面积不需要序列化。</li> <li>一些安全性的信息，一般情况下是不能离开JVM的</li> <li>如果类中使用了Logger实例，那么Logger实例也是不需要序列化的</li></ul> <blockquote><p>Java中的transient关键字，transient是短暂的意思。对于transient 修饰的成员变量，在类的实例对象的序列化处理过程中会被忽略。 因此，transient变量不会贯穿对象的序列化和反序列化，生命周期仅存于调用者的内存中而不会写到磁盘里进行持久化。</p> <p>在持久化对象时，对于一些特殊的数据成员（如用户的密码，银行卡号等），我们不想用序列化机制来保存它。为了在一个特定对象的一个成员变量上关闭序列化，可以在这个成员变量前加上关键字transient。</p> <p>transient是Java语言的关键字，用来表示一个成员变量不是该对象序列化的一部分。当一个对象被序列化的时候，transient型变量的值不包括在序列化的结果中。而非transient型的变量是被包括进去的。 注意static修饰的静态变量天然就是不可序列化的。</p></blockquote> <h4 id="_2-迭代"><a href="#_2-迭代" class="header-anchor">#</a> 2.迭代</h4> <p>iterator()、Iterator、Iterable区别</p> <p>Iterable是Collection接口继承的一个接口，iterator()方法是Iterable接口中的一个抽象方法，而抽象方法需要在具体的实现类中得到实现，iterator()方法的返回值为Iterator接口，Iterator接口中包含两个经典方法，hasNext()和next()。<strong>增强for循环的底层也是通过迭代器实现的</strong></p> <p>在迭代时，同时对list进行操作，则会报并发修改的错，这是需要使用ListIterator对象来替代Iterator，对list迭代和操作都通过该对象来实现。</p> <h2 id="_3、set集合"><a href="#_3、set集合" class="header-anchor">#</a> 3、Set集合</h2> <h3 id="_1-hashset"><a href="#_1-hashset" class="header-anchor">#</a> 1.HashSet</h3> <p>底层原理：数组+链表=哈希表</p> <p>注意 放入HashSet中的数据，一定要重写两个方法：hashCode()和equals()</p> <p>hashCode()用于计算位置、equals()用于比较元素是否相等</p> <p>底层是HashMap，将每一个元素放到HashMap的key中。</p> <h3 id="_2-linkedhashset"><a href="#_2-linkedhashset" class="header-anchor">#</a> 2.LinkedHashSet</h3> <p>其实就是在HashSet的基础上，多了一个总的链表，这个总链表将放入的元素串在一起，方便有序的遍历</p> <h3 id="_3-treeset"><a href="#_3-treeset" class="header-anchor">#</a> 3.TreeSet</h3> <p>底层是二叉树（逻辑结构，红黑树），物理结构是跳转结构</p> <p>特点：唯一，无序（没有按照输入顺序进行输出），有序（按照升序进行遍历）</p> <p>放入TreeSet中的元素，会根据实现的比较器进行升序排序，如果TreeSet的泛型类（自定义类）没有实现内部比较器，或者没有创建TreeSet时没有通过构造方法指定外部比较器，则会在添加元素时报错。</p> <blockquote><p>创建TreeSet时可以在构造器中传入一个外部比较器对象，可以是声明的匿名内部类，也可以是实现Comparator接口的类</p></blockquote> <p>二叉树的遍历：</p> <ul><li>中序遍历：左=&gt;根=&gt;右  当前二叉树用的遍历方式</li> <li>先序遍历：根=&gt;左=&gt;右</li> <li>后序遍历：左=&gt;右=&gt;根</li></ul> <p>所以TreeSet底层二叉树的遍历结果是升序的，这个升序是靠中序遍历的方式得到的。</p> <p>底层是TreeMap，将每一个元素放到TreeMap的key中。</p> <h2 id="_4-比较器"><a href="#_4-比较器" class="header-anchor">#</a> 4.比较器</h2> <h3 id="_1-java对象内比较-内部比较器"><a href="#_1-java对象内比较-内部比较器" class="header-anchor">#</a> 1.Java对象内比较（内部比较器）</h3> <p>实现Comparable接口，重写compareTo方法</p> <h3 id="_2-java对象外比较-外部比较器"><a href="#_2-java对象外比较-外部比较器" class="header-anchor">#</a> 2.Java对象外比较（外部比较器）</h3> <p>实现Comparator接口，泛型为Java对象类型，重写compare方法</p> <p>推荐使用对象外比较方法，可以使用多态特性</p> <img src="/post-ci/img/java/集合.jpg" alt="单架构"> <h2 id="collections工具类"><a href="#collections工具类" class="header-anchor">#</a> Collections工具类</h2> <p>常用方法</p> <ul><li>addAll</li> <li>binarySearch</li> <li>sort</li> <li>copy</li> <li>synchronizedList</li> <li>......</li></ul> <h1 id="java容器集合-map"><a href="#java容器集合-map" class="header-anchor">#</a> Java容器集合-Map</h1> <h2 id="_1-常用方法"><a href="#_1-常用方法" class="header-anchor">#</a> 1.常用方法</h2> <ul><li>新增：put(k, v)</li> <li>删除：clear()、 remove(key)</li> <li>查看：entrySet()、get(key)、keySet()、size()、values()</li> <li>判断：containsKey(key)、containsValue(v)、 equals()、 isEmpty()</li></ul> <h2 id="_2-hashmap-详细见hashmap笔记"><a href="#_2-hashmap-详细见hashmap笔记" class="header-anchor">#</a> 2.HashMap（详细见HashMap笔记）</h2> <p>JDK1.2版本</p> <p>特点：无序、唯一，按照key进行总结的，因为底层的key遵照哈希表结构（数组+链表）</p> <p>哈希表：放入这个集合中的数据对应的类，必须重写hashCode()和equals()方法</p> <blockquote><p>HashMap与HashTable对于null值的区别：</p> <p>HashMap key可以存入null值，只能存入一个key为null的值，遵循唯一的特点</p> <p>HashTable key不可以存入null值</p></blockquote> <h2 id="_3-linkedhashmap"><a href="#_3-linkedhashmap" class="header-anchor">#</a> 3.LinkedHashMap</h2> <p>底层：哈希表+链表</p> <p>特点：唯一、有序（按照输入顺序进行输出）</p> <h2 id="_4-hashtable"><a href="#_4-hashtable" class="header-anchor">#</a> 4.HashTable</h2> <p>JDK1.0版本</p> <p>与HashMap基本相同，但是操作集合的方法加了synchronized关键字保证线程安全。</p> <h2 id="_5-treemap"><a href="#_5-treemap" class="header-anchor">#</a> 5.TreeMap</h2> <p>特点：唯一、有序（按照升序或者降序）</p> <p>原理：二叉树（红黑树），key遵照二叉树的特点，放入集合的key的数据对应的类型内部一定要实现比较器（内部比较器和外部比较器二选一）</p> <h1 id="同步类容器"><a href="#同步类容器" class="header-anchor">#</a> 同步类容器</h1> <h2 id="_1-collections-synchronizedlist-list-map"><a href="#_1-collections-synchronizedlist-list-map" class="header-anchor">#</a> 1.Collections.synchronizedList(List/Map)</h2> <p>在原有容器上加synchronized关键字，保证其线程安全。</p> <h2 id="_2-concurrenthashmap"><a href="#_2-concurrenthashmap" class="header-anchor">#</a> 2.ConcurrentHashMap</h2> <p>对比：</p> <ul><li>ConcurrentHashMap：性能高，线程安全</li> <li>HashTable：性能低，线程安全</li> <li>HashMap：性能高，线程不安全</li> <li>Collections.synchronizedList(HashMap)：性能低，线程安全</li></ul> <h2 id="_3-cow-copy-on-write"><a href="#_3-cow-copy-on-write" class="header-anchor">#</a> 3.COW-Copy On Write</h2> <p>读写分离容器：向容器中添加元素时，先将容器进行copy复制出一个新的容器，再将元素添加到新容器中，再将原容器的引用指向新容器中，并发读的时候不需要锁定容器，因为原容器没有变化，所以可以读取原容器中的值，使用的是一种读写分离的思想。</p> <h3 id="好处"><a href="#好处" class="header-anchor">#</a> 好处</h3> <p>数组无锁，读写分离，读数据时读原有的数组，提高了并发性能</p> <h3 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h3> <p>COW容器只能保证数据的最终一致性，不能保证数据实时一致性。</p> <h3 id="特定场景"><a href="#特定场景" class="header-anchor">#</a> 特定场景</h3> <p>适合读多写少的情况，每次更新操作都会复制新容器，所以如果数据量较大并且更新操作频繁则对内存消耗很高，建议在搞并发读的场景下使用。</p> <h3 id="copyonwritearraylist和copyonwritearrayset"><a href="#copyonwritearraylist和copyonwritearrayset" class="header-anchor">#</a> CopyOnWriteArrayList和CopyOnWriteArraySet</h3> <p>CopyOnWriteArrayList add方法和addIfAbsent方法加锁，addIfAbsent会遍历当前集合，降低效率。</p> <p>CopyOnWriteArraySet add方法基于addIfAbsent实现，效率低。</p> <h1 id="队列-queue"><a href="#队列-queue" class="header-anchor">#</a> 队列-Queue</h1> <h2 id="阻塞队列-blockingqueue"><a href="#阻塞队列-blockingqueue" class="header-anchor">#</a> 阻塞队列-BlockingQueue</h2> <p>BlockingQueue继承自Queue，Queue继承自Collection，所以Collection最基础的增删改查操作是有的，多了Queue的特点先进先出，在这个基础上又多了BlockingQueue的特点，不允许添加null。</p> <h3 id="常用方法"><a href="#常用方法" class="header-anchor">#</a> 常用方法：</h3> <ul><li>add：向指定队列中添加元素，成功返回true，如果没有可用空间，则抛出IllegalStateException</li> <li>offer：向指定队列中添加元素，成功返回true，如果没有可用空间，返回false</li> <li>put：向指定队列中添加元素，如果没有可用空间，将等待可用空间，阻塞方法</li> <li>take：获取并移除此队列的头部，在元素变得可用之前一直等待，阻塞方法，如果队列为空，则一直阻塞等待</li> <li>poll：获取并移除此队列的头部，在指定的等待时间前等待可用的元素，阻塞方法，如果队列为空，则返回null</li></ul> <h3 id="arrayblockingqueue"><a href="#arrayblockingqueue" class="header-anchor">#</a> ArrayBlockingQueue</h3> <p>​		底层基于数组，有边界的队列（需指定长度），FIFO（first-in-first-out）添加元素时放到队列头部，取元素时，从尾部取。</p> <ul><li>添加元素同BlockingQueue常用方法，不可以添加null元素，会报错空指针异常</li> <li>peek：查询头部元素但是不会移除元素，如果队列为空，则返回null</li> <li>添加/获取方法都依赖于入队和出队方法</li> <li>不支持读写同时操作，源码中添加/获取阻塞时使用同一个ReentrantLock，所以不支持读写同时操作</li></ul> <h3 id="linkedblockingqueue"><a href="#linkedblockingqueue" class="header-anchor">#</a> LinkedBlockingQueue</h3> <p>​		支持读写同时操作，并发情况下，效率高，底层基于链表，可选择的有边界的队列（可指定长度，可不指定长度，不指定长度时是一个无界队列，此处的无界不是真正意义的无界，是Integer的最大值Integer.MAX_VALUE 21亿左右），FIFO（first-in-first-out）</p> <ul><li>阻塞的前提是队列有界</li> <li>不可以添加null元素，会报错空指针异常</li></ul> <h3 id="synchronousqueue"><a href="#synchronousqueue" class="header-anchor">#</a> SynchronousQueue</h3> <p>没有长度，必须有一个线程阻塞获取数据，才能放入数据</p> <ul><li>add添加数据时，如果先放数据则会抛异常IllegalStateException：Queue Full</li> <li>put添加数据时，由于队列没有长度，则会阻塞</li> <li>取出元素不能用peek，peek支持查看方法</li></ul> <p>优点：</p> <ul><li>方便高效的进行线程间数据的传送，效率极高，不会产生队列中数据争抢的问题</li> <li>数据没有经过队列直接被消费线程取走，数据可以准确的传送，队列就是一个标记，性能很高</li></ul> <h3 id="priorityblockingqueue"><a href="#priorityblockingqueue" class="header-anchor">#</a> PriorityBlockingQueue</h3> <p>​		带有优先级的阻塞队列，即队列有先后顺序，数据有不同的权重，所以不允许放入不可比较的对象（会抛出ClassCastException），对象必须实现内部比较器或者外部比较器不可以放入null。</p> <p>​		无界的队列，没有长度限制，不指定长度时，默认初始长度为11，也可以手动指定，而随着数据的不断增加，底层（Object数组）会自动扩容，直到内存全部消耗殆尽 ，导致OOM内存溢出才会结束。</p> <h3 id="delayqueue"><a href="#delayqueue" class="header-anchor">#</a> DelayQueue</h3> <p>​		是一个无界的BlockingQueue，用于放置<strong>实现了Delayed接口</strong>的对象，其中的对象只能在其到期时才能从队列中取走。</p> <p>​		当生产线程调用put之类的方法加入元素时，会触发Delayed接口中的CompareTo方法进行排序，也就是说队列中元素的顺序是按到期时间排序的，而非它们进入队列的顺序，排在队列头部的元素是最早期的，越往后到期时间越晚。</p> <p>​		当消费线程查看队列头部的元素，注意是查看不是取出。然后调用getDelay方法，如果此方法返回的值小于0或者等于0，则消费线程会从队列中取出元素，并进行处理，如果返回值大于0，则消费线程wait返回的时间值后，在从头部取出元素，此时元素到期。</p> <p>​		放入队列的元素必须重写Delayed接口中的getDelay方法和Comparable接口中compareTo方法</p> <h3 id="deque"><a href="#deque" class="header-anchor">#</a> Deque</h3> <p>双端队列，</p></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2022-05-02
    </span> <span class="update-date" data-v-4e23451f>
      最后修改 : 2022-12-08
    </span></section> <section class="post-links" data-v-4e23451f><a href="/post-ci/posts/2022/05/02/mysql%E4%BC%98%E5%8C%96.html" class="post-link" data-v-4e23451f>
      上一篇 : MySQL调优
    </a> <a href="/post-ci/posts/2022/05/02/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%9F%BA%E7%A1%80.html" class="post-link" data-v-4e23451f>
      下一篇 : 大数据基础
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-4dd605a1><div class="info-card main-div" data-v-9d847660 data-v-4dd605a1><div class="info-card-header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(http://img.icoisini.xyz/wx-background.jpg);" data-v-9d847660><img src="http://img.icoisini.xyz/cm.jpg" alt="小二哥" class="info-avatar" data-v-9d847660></div> <div class="info-card-body" data-v-9d847660><section class="info-nickname" data-v-9d847660>
      小二哥
    </section> <section class="info-desc" data-v-9d847660>Don`t Worry Be Happy!</section> <section class="info-contact" data-v-9d847660><section data-v-9d847660><span title="DaLian City, China" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>DaLian City, China</title><use xlink:href="#icon-location" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          DaLian City, China
        </span></span></section> <section data-v-9d847660><span title="DaLian University of Technology" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>DaLian University of Technology</title><use xlink:href="#icon-organization" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          DaLian University of Technology
        </span></span></section> <section data-v-9d847660><a href="mailto:csrsming@163.com" title="csrsming@163.com" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>csrsming@163.com</title><use xlink:href="#icon-email" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          csrsming@163.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-9d847660><section class="info-sns clearfix" data-v-9d847660><a href="https://github.com/csrsm" target="_blank" class="sns-link" data-v-9d847660><span title="GitHub: csrsm" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>GitHub: csrsm</title><use xlink:href="#icon-github" data-v-9d847660 data-v-9d847660></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-4dd605a1><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_1、算法与数据结构">1、算法与数据结构</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_2、list集合">2、List集合</a><ul><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_1-arraylist">1.ArrayList</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_2-vector">2.Vector</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_3、泛型">3、泛型</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_4-linkedlist">4.LinkedList</a></li></ul></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_3、set集合">3、Set集合</a><ul><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_1-hashset">1.HashSet</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_2-linkedhashset">2.LinkedHashSet</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_3-treeset">3.TreeSet</a></li></ul></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_4-比较器">4.比较器</a><ul><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_1-java对象内比较-内部比较器">1.Java对象内比较（内部比较器）</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_2-java对象外比较-外部比较器">2.Java对象外比较（外部比较器）</a></li></ul></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#collections工具类">Collections工具类</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_1-常用方法">1.常用方法</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_2-hashmap-详细见hashmap笔记">2.HashMap（详细见HashMap笔记）</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_3-linkedhashmap">3.LinkedHashMap</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_4-hashtable">4.HashTable</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_5-treemap">5.TreeMap</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_1-collections-synchronizedlist-list-map">1.Collections.synchronizedList(List/Map)</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_2-concurrenthashmap">2.ConcurrentHashMap</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#_3-cow-copy-on-write">3.COW-Copy On Write</a><ul><li><a href="/post-ci/posts/2022/05/02/java-collection.html#好处">好处</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#注意">注意</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#特定场景">特定场景</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#copyonwritearraylist和copyonwritearrayset">CopyOnWriteArrayList和CopyOnWriteArraySet</a></li></ul></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#阻塞队列-blockingqueue">阻塞队列-BlockingQueue</a><ul><li><a href="/post-ci/posts/2022/05/02/java-collection.html#常用方法">常用方法：</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#arrayblockingqueue">ArrayBlockingQueue</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#linkedblockingqueue">LinkedBlockingQueue</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#synchronousqueue">SynchronousQueue</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#priorityblockingqueue">PriorityBlockingQueue</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#delayqueue">DelayQueue</a></li><li><a href="/post-ci/posts/2022/05/02/java-collection.html#deque">Deque</a></li></ul></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/post-ci/posts/2022/05/02/java-collection.html#post-comments">
      评论
    </a></div></div></aside></div> <footer class="footer" data-v-1375e54c><p class="footer-sns-links" data-v-1375e54c><a href="https://github.com/csrsm" target="_blank" class="sns-link" data-v-1375e54c><span title="GitHub: csrsm" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>GitHub: csrsm</title><use xlink:href="#icon-github" data-v-1375e54c data-v-1375e54c></use></svg></span></a></p> <!----> <p class="footer-text" data-v-1375e54c>Copyright 2016-present <a href="https://github.com/csrsm" target="_blank">csrsm</a></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/post-ci/assets/js/app.2051f0b8.js" defer></script><script src="/post-ci/assets/js/7.8eaaf042.js" defer></script><script src="/post-ci/assets/js/22.0a18be31.js" defer></script>
  </body>
</html>
