---
category: csrsm
title: http简介
header-title: true
header-image:
  - http://img.icoisini.xyz/background.jpg
tags:
  - 前端
  - http
date: 2020-11-23
---

## http响应状态：

- 200：请求成功，正常处理
- 204：请求成功，无资源返回
- 206：范围请求
- 301：资源的URI更新，永久性更新
- 302：资源的URI临时定位到其他位置
- 303：请求的资源URI存着另一个资源，应使用get方法定向获取
- 304：发送附带条件的请求时，服务端允许请求，但是条件未满足
- 307：临时重定向
- 400：请求语法错误
- 401：认证失败
- 403：访问权限问题，拒绝访问
- 404：找不到请求资源
- 500：内部资源出错，后台程序出错
- 503：服务器暂时处于超负载或正在进行停机维护，无法处理请求
- 

使用代理服务器的理由有：利用缓存技术（稍后讲解）减少网络带宽
的流量，组织内部针对特定网站的访问控制，以获取访问日志为主要
目的，等等。

利用网关能提高通信的安全性

通过隧道的传输，可以和远距离的服务器安全通信。

## http缺点：

1.通信使用明文（不加密），内容可能会被窃听
2.不验证通信方的身份，因此有可能遭遇伪装
3.无法证明报文的完整性，所以有可能已遭篡改

HTTP+ 加密 + 认证 + 完整性保护
=HTTPS 

## https: 

1. 并非是一种新协议，只是 HTTP 通信接口部分用SSL（Secure Socket Layer）
   和 TLS（Transport Layer Security）协议代替而已。 
2. HTTPS 采用共享密钥加密和公开密钥加密两者并用的混合加密
   机制,在交换密钥环节使用公开密钥加密方式，之后的建立通信交
   换报文阶段则使用共享密钥加密方式。
3. 证书：验证建立的公开秘钥就是原本预想的服务器发行的公开秘钥，避免秘钥
   在建立之前被攻击者替换掉，数字证书认证机构为双方都信任的第三方机构。
   证书流程：向证书机构申请公开秘钥-->绑定证书数字签名到公开秘钥-->
             将绑定数字签名的公开秘钥发送到服务端-->服务端发送公开秘钥到客户端，客户端验证数字签名
   		  

### HTTPS缺点

1. 使用SSL进行通信 导致通信速度变慢
2. SSL加密处理会大量消耗硬件资源
3.  购买证书需要开销

必要的敏感信息需要使用HTTPS

## http/1.1使用的认证方式：

1.BASIC认证（基本认证）：将用户名密码经过base64处理后发送验证请求，不够灵活，且不安全。（请求时，先询问后在将信息发送请求）
2.DIGEST 认证（摘要认证）：发送摘要以及由质询码计算出的响应码，不够灵活，安全性更高但不能防止用户伪装。
3.SSL 客户端认证：证书认证，获取证书内客户端公开秘钥后，进行加密通信。
                  多数情况采用双因素加密：证书+表单用户名密码，证书认证客户端计算机，用户名密码确定本人操作。
4.FormBase 认证（基于表单认证）：用户名密码验证，认证多半基于表单认证。

使用cookie管理Session：服务器端验证用户信息后，将向客户端发送包含SessionID的cookie。
保存用户信息的一种安全方式：密码加盐后使用hash函数计算出散列值保存

## http瓶颈：

1.一条连接上只可发送一个请求。
2.请求只能从客户端开始。客户端不可以接收除响应以外的指令。
3.请求 / 响应首部未经压缩就发送。首部信息越多延迟越大。
4.发送冗长的首部。每次互相发送相同的首部造成的浪费较多。
5.可任意选择数据压缩格式。非强制压缩发送。

### 解决方案:

****未解决 HTTP 协议本身存在的问题****
1.Ajax:利用js和Dom,局部Web页面替换加载,响应传输的数据会减少。实时获取服务器内容时，可能导致大量请求产生。
2.Comet：服务器端有内容更新，会直接响应到客户端，实时更新，持续连接通信会消耗更多资源。

SPDY:消除http协议级瓶颈，介于http与tcp之间。
相较http，额外功能：
1.多路复用流：单一的tcp连接，处理多个http请求。
2.赋予请求优先级：分配多个请求优先级。
3.压缩http首部：减少通信产生的数据量。
4.支持服务器主动向客户端请求。
5.服务器主动提示功能，避免没必要的请求。
缺点：
因为 SPDY 基本上只是将单个域名（ IP 地址）的通信多路复用，所
以当一个 Web 网站上使用多个域名下的资源，改善效果就会受到限
制。

## WebSocket：

​		Web 浏览器与 Web 服务器之间全双工通信标准，主要是为了解决 Ajax 和 Comet里 XMLHttpRequest 附带的缺陷所引起的问题

### 主要特点：

1. 推送功能：支持由服务器向客户端推送数据的推送功能。
2. 减少通信量：只要建立起 WebSocket 连接，就希望一直保持连接状态。每次连接的总开销小，首部信息也小，通信量相应少。

**通信过程**：

1. 一次握手 http请求：握手·请求 -> 握手·响应
2.  切换websocket协议进行通信

**WebDAV**：

Web 服务器管理文件，基于http1.1的 PUT 方法和 DELETE 方法，就可以对 Web 服务器上的文件进行创建和删除操作
		  
**http受众广泛原因**：

1. 防火墙权限   
2. http浏览器客户端普及等










